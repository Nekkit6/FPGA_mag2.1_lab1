#-----------------------------------------------------------
# Vivado v2023.1 (64-bit)
# SW Build 3865809 on Sun May  7 15:05:29 MDT 2023
# IP Build 3864474 on Sun May  7 20:36:21 MDT 2023
# SharedData Build 3865790 on Sun May 07 13:33:03 MDT 2023
# Start of session at: Tue Oct  8 22:14:25 2024
# Process ID: 5104
# Current directory: E:/8191588/FPGA_mag2.1_lab1
# Command line: vivado.exe -gui_launcher_event rodinguilauncherevent9156 E:\8191588\FPGA_mag2.1_lab1\lab2.xpr
# Log file: E:/8191588/FPGA_mag2.1_lab1/vivado.log
# Journal file: E:/8191588/FPGA_mag2.1_lab1\vivado.jou
# Running On: HOME-PC, OS: Windows, CPU Frequency: 2304 MHz, CPU Physical cores: 4, Host memory: 17019 MB
#-----------------------------------------------------------
start_gui
open_project E:/8191588/FPGA_mag2.1_lab1/lab2.xpr
update_compile_order -fileset sources_1
open_bd_design {E:/8191588/FPGA_mag2.1_lab1/lab2.srcs/sources_1/bd/system/system.bd}
startgroup
set_property -dict [list \
  CONFIG.PCW_EN_CLK0_PORT {1} \
  CONFIG.PCW_EN_RST0_PORT {1} \
  CONFIG.PCW_USE_M_AXI_GP0 {1} \
] [get_bd_cells processing_system7_0]
endgroup
regenerate_bd_layout
startgroup
create_bd_cell -type ip -vlnv xilinx.com:ip:axi_gpio:2.0 axi_gpio_0
endgroup
regenerate_bd_layout
set_property name switches [get_bd_cells axi_gpio_0]
set_property CONFIG.GPIO_BOARD_INTERFACE {sws_8bits} [get_bd_cells switches]
apply_bd_automation -rule xilinx.com:bd_rule:axi4 -config { Clk_master {Auto} Clk_slave {Auto} Clk_xbar {Auto} Master {/processing_system7_0/M_AXI_GP0} Slave {/switches/S_AXI} ddr_seg {Auto} intc_ip {New AXI Interconnect} master_apm {0}}  [get_bd_intf_pins switches/S_AXI]
regenerate_bd_layout
validate_bd_design
startgroup
create_bd_cell -type ip -vlnv xilinx.com:ip:axi_gpio:2.0 axi_gpio_0
endgroup
set_property name buttons [get_bd_cells axi_gpio_0]
set_property CONFIG.GPIO_BOARD_INTERFACE {btns_5bits} [get_bd_cells buttons]
apply_bd_automation -rule xilinx.com:bd_rule:axi4 -config { Clk_master {/processing_system7_0/FCLK_CLK0 (100 MHz)} Clk_slave {Auto} Clk_xbar {/processing_system7_0/FCLK_CLK0 (100 MHz)} Master {/processing_system7_0/M_AXI_GP0} Slave {/buttons/S_AXI} ddr_seg {Auto} intc_ip {/ps7_0_axi_periph} master_apm {0}}  [get_bd_intf_pins buttons/S_AXI]
disconnect_bd_net /rst_ps7_0_100M_peripheral_aresetn [get_bd_pins ps7_0_axi_periph/ARESETN]
connect_bd_net [get_bd_pins rst_ps7_0_100M/interconnect_aresetn] [get_bd_pins ps7_0_axi_periph/ARESETN]
regenerate_bd_layout
regenerate_bd_layout
startgroup
apply_bd_automation -rule xilinx.com:bd_rule:board -config { Board_Interface {btns_5bits ( Push buttons ) } Manual_Source {Auto}}  [get_bd_intf_pins buttons/GPIO]
apply_bd_automation -rule xilinx.com:bd_rule:board -config { Board_Interface {sws_8bits ( DIP switches ) } Manual_Source {Auto}}  [get_bd_intf_pins switches/GPIO]
endgroup
set_property name buttons [get_bd_intf_ports btns_5bits]
set_property name switchs [get_bd_intf_ports sws_8bits]
validate_bd_design
reset_run system_processing_system7_0_0_synth_1
save_bd_design
launch_runs synth_1 -jobs 8
wait_on_run synth_1
add_files -fileset constrs_1 -norecurse E:/8191588/FPGA_mag2.1_lab1/XDC/zedboard_master.xdc
open_run synth_1 -name synth_1
export_ip_user_files -of_objects  [get_files E:/8191588/FPGA_mag2.1_lab1/XDC/zedboard_master.xdc] -no_script -reset -force -quiet
remove_files  -fileset constrs_1 E:/8191588/FPGA_mag2.1_lab1/XDC/zedboard_master.xdc
create_ip_run [get_files -of_objects [get_fileset sources_1] E:/8191588/FPGA_mag2.1_lab1/lab2.srcs/sources_1/bd/system/system.bd]
refresh_design
open_bd_design {E:/8191588/FPGA_mag2.1_lab1/lab2.srcs/sources_1/bd/system/system.bd}
reset_run synth_1
launch_runs impl_1 -to_step write_bitstream -jobs 8
wait_on_run impl_1
write_hw_platform -fixed -include_bit -force -file E:/8191588/FPGA_mag2.1_lab1/XSA/system_wrapper.xsa
